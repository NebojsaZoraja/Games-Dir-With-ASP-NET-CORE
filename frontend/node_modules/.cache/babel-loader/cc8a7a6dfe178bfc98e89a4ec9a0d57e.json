{"ast":null,"code":"import React,{useEffect}from\"react\";import{Col,Container,Row,Button,Card}from\"react-bootstrap\";import CheckoutSteps from\"../components/CheckoutSteps\";import{useDispatch,useSelector}from\"react-redux\";import{addToCart,removeFromCart}from\"../actions/cartActions\";import Meta from\"../components/Meta\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var OverviewScreen=function OverviewScreen(_ref){var match=_ref.match,history=_ref.history;var gameId=match.params.id;var dispatch=useDispatch();var cart=useSelector(function(state){return state.cart;});var cartItem=cart.cartItem;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var removeFromCartHandler=function removeFromCartHandler(id){dispatch(removeFromCart(id));history.replace(\"/empty\");};useEffect(function(){if(userInfo){if(gameId){dispatch(addToCart(gameId));}}else{history.push(\"/login?redirect=overview/\".concat(gameId));}},[dispatch,gameId,userInfo,history]);var handleGoToPayment=function handleGoToPayment(){history.push(\"/payment/\".concat(gameId));};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Meta,{title:\"Cart | \".concat(cartItem.title)}),cartItem.game?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckoutSteps,{step1:true,step2:true}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{lg:6,md:9,xs:15,children:/*#__PURE__*/_jsxs(Card,{bg:\"light\",children:[/*#__PURE__*/_jsx(Card.Img,{src:cartItem.image}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Row,{className:\"py-2\",style:{borderBottom:\"solid\",borderWidth:\"0.5px\",borderColor:\"black\"},children:/*#__PURE__*/_jsxs(Card.Text,{as:\"h4\",style:{color:\"black\",textAlign:\"center\"},children:[\"Price: $\",cartItem.price]})}),/*#__PURE__*/_jsx(Row,{className:\"py-2\",style:{borderBottom:\"solid\",borderWidth:\"0.5px\",borderColor:\"black\"},children:/*#__PURE__*/_jsxs(Card.Text,{as:\"h5\",style:{color:\"black\"},children:[\"Important! The activation keys we provide are going to work only on the Steam platform.\",/*#__PURE__*/_jsx(\"br\",{}),\" You will need a Steam account in order to activate this product.\"]})}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{lg:7,md:7,xs:10,style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(Button,{onClick:handleGoToPayment,style:{backgroundColor:\"dodgerblue\",borderColor:\"dodgerblue\"},className:\"mt-3 w-100\",disabled:cartItem.numberInStock===0,children:cartItem.numberInStock>0?\"Proceed to Payment\":\"Out Of Stock\"})})}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{lg:7,md:7,xs:10,style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return removeFromCartHandler(gameId);},style:{backgroundColor:\"red\",borderColor:\"red\"},className:\"mt-3 w-100\",children:\"Remove from cart\"})})})]})]})})})]}):/*#__PURE__*/_jsx(_Fragment,{})]});};export default OverviewScreen;","map":{"version":3,"sources":["C:/Users/NebojÅ¡a/Desktop/Games_Dir/frontend/src/screens/OverviewScreen.jsx"],"names":["React","useEffect","Col","Container","Row","Button","Card","CheckoutSteps","useDispatch","useSelector","addToCart","removeFromCart","Meta","OverviewScreen","match","history","gameId","params","id","dispatch","cart","state","cartItem","userLogin","userInfo","removeFromCartHandler","replace","push","handleGoToPayment","title","game","image","borderBottom","borderWidth","borderColor","color","textAlign","price","backgroundColor","numberInStock"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Col, Container, Row, Button, Card } from \"react-bootstrap\";\r\nimport CheckoutSteps from \"../components/CheckoutSteps\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addToCart, removeFromCart } from \"../actions/cartActions\";\r\nimport Meta from \"../components/Meta\";\r\n\r\nconst OverviewScreen = ({ match, history }) => {\r\n  const gameId = match.params.id;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const cart = useSelector((state) => state.cart);\r\n  const { cartItem } = cart;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const removeFromCartHandler = (id) => {\r\n    dispatch(removeFromCart(id));\r\n    history.replace(\"/empty\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      if (gameId) {\r\n        dispatch(addToCart(gameId));\r\n      }\r\n    } else {\r\n      history.push(`/login?redirect=overview/${gameId}`);\r\n    }\r\n  }, [dispatch, gameId, userInfo, history]);\r\n\r\n  const handleGoToPayment = () => {\r\n    history.push(`/payment/${gameId}`);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Meta title={`Cart | ${cartItem.title}`} />\r\n      {cartItem.game ? (\r\n        <>\r\n          <CheckoutSteps step1 step2 />\r\n          <Row className=\"justify-content-center\">\r\n            <Col lg={6} md={9} xs={15}>\r\n              <Card bg=\"light\">\r\n                <Card.Img src={cartItem.image} />\r\n                <Card.Body>\r\n                  <Row\r\n                    className=\"py-2\"\r\n                    style={{\r\n                      borderBottom: \"solid\",\r\n                      borderWidth: \"0.5px\",\r\n                      borderColor: \"black\",\r\n                    }}\r\n                  >\r\n                    <Card.Text\r\n                      as=\"h4\"\r\n                      style={{ color: \"black\", textAlign: \"center\" }}\r\n                    >\r\n                      Price: ${cartItem.price}\r\n                    </Card.Text>\r\n                  </Row>\r\n                  <Row\r\n                    className=\"py-2\"\r\n                    style={{\r\n                      borderBottom: \"solid\",\r\n                      borderWidth: \"0.5px\",\r\n                      borderColor: \"black\",\r\n                    }}\r\n                  >\r\n                    <Card.Text as=\"h5\" style={{ color: \"black\" }}>\r\n                      Important! The activation keys we provide are going to\r\n                      work only on the Steam platform.\r\n                      <br /> You will need a Steam account in order to activate\r\n                      this product.\r\n                    </Card.Text>\r\n                  </Row>\r\n                  <Row className=\"justify-content-center\">\r\n                    <Col lg={7} md={7} xs={10} style={{ textAlign: \"center\" }}>\r\n                      <Button\r\n                        onClick={handleGoToPayment}\r\n                        style={{\r\n                          backgroundColor: \"dodgerblue\",\r\n                          borderColor: \"dodgerblue\",\r\n                        }}\r\n                        className=\"mt-3 w-100\"\r\n                        disabled={cartItem.numberInStock === 0}\r\n                      >\r\n                        {cartItem.numberInStock > 0\r\n                          ? \"Proceed to Payment\"\r\n                          : \"Out Of Stock\"}\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row className=\"justify-content-center\">\r\n                    <Col lg={7} md={7} xs={10} style={{ textAlign: \"center\" }}>\r\n                      <Button\r\n                        onClick={() => removeFromCartHandler(gameId)}\r\n                        style={{\r\n                          backgroundColor: \"red\",\r\n                          borderColor: \"red\",\r\n                        }}\r\n                        className=\"mt-3 w-100\"\r\n                      >\r\n                        Remove from cart\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default OverviewScreen;\r\n"]},"metadata":{},"sourceType":"module"}